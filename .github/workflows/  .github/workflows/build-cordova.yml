   name: Build Cordova APK

   on:
     workflow_dispatch:

   jobs:
     build-apk:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v4

         - name: Setup Node.js
           uses: actions/setup-node@v4
           with:
             node-version: '18'

         - name: Setup Java
           uses: actions/setup-java@v4
           with:
             distribution: 'temurin'
             java-version: '17'

         - name: Install Cordova
           run: npm install -g cordova@12.0.0

         - name: Install dependencies
           run: npm install

         - name: Add Android platform
           run: cordova platform add android@12.0.1

         - name: Build APK
           run: |
             cordova build android --release
             cp platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk EvergreenCordova.apk

         - name: Upload APK artifact
           uses: actions/upload-artifact@v4
           with:
             name: evergreen-cordova-apk
             path: EvergreenCordova.apk  
